# Prompt Line Settings Configuration
# This file is automatically generated but can be manually edited

# ============================================================================
# KEYBOARD SHORTCUTS
# ============================================================================
# Format: Modifier+Key (e.g., Cmd+Shift+Space, Ctrl+Alt+Space)
# Available modifiers: Cmd, Ctrl, Alt, Shift

shortcuts:
  main: Cmd+Shift+Space           # Show/hide the input window (global)
  paste: Cmd+Enter         # Paste text and close window
  close: Escape              # Close window without pasting
  historyNext: Ctrl+j          # Navigate to next history item
  historyPrev: Ctrl+k          # Navigate to previous history item
  search: Cmd+f            # Enable search mode in history

# ============================================================================
# WINDOW SETTINGS
# ============================================================================
# Position options:
#   - active-text-field: Near focused text field (default, falls back to active-window-center)
#   - active-window-center: Center within active window
#   - cursor: At mouse cursor location
#   - center: Center on primary display

window:
  position: active-text-field
  width: 640                      # Recommended: 400-800 pixels
  height: 320                     # Recommended: 200-400 pixels

# ============================================================================
# FILE OPENER SETTINGS
# ============================================================================
# Configure which applications to use when opening file links
# When defaultEditor is null, system default application is used

fileOpener:
  # Default editor for all files (null = use system default application)
  # Example values: "Visual Studio Code", "Sublime Text", "WebStorm"
  defaultEditor: null
  # Extension-specific applications (overrides defaultEditor)
  extensions:
    png: "Preview"
    pdf: "Preview"
    # go: "Goland"
    # md: "Typora"

# ============================================================================
# BUILT-IN COMMANDS
# ============================================================================
# Built-in slash commands for CLI tools (Claude Code, Codex, Gemini CLI, etc.)
# Storage: ~/.prompt-line/built-in-commands/ (YAML files per tool)
# Hot-reload: YAML file changes are auto-detected (no restart needed)

# Built-in slash commands (type "/" to access)
# Available: claude, codex, gemini, openclaw, opencode
# Storage: ~/.prompt-line/built-in-commands/ (YAML files, hot-reload supported)
# Customize: Edit YAML files in the storage directory to add/modify/remove commands
#            Changes are detected automatically — no app restart needed
# Update: pnpm run update-built-in-commands (reset to defaults with confirmation)
builtInCommands:                      # List of tools to enable
  - claude
  # - codex
  # - gemini

# ============================================================================
# AGENT SKILLS SETTINGS
# ============================================================================
# Configure agent skills: custom commands from markdown files
# Template variables: {basename}, {frontmatter@fieldName}

# Agent skills: custom commands from markdown files
# Configuration fields:
#   name: Display name template (variables: {basename}, {frontmatter@field}, {prefix})
#   description: Skill description template (variables: {basename}, {frontmatter@field}, {dirname}, {dirname:N})
#   path: Directory path to search for skill files
#   label: Display label for UI badge (e.g., "command", "skill", "agent")
#   color: Badge color (name: grey, darkGrey, slate, stone, red, rose, orange, amber, yellow, lime, green, emerald, teal, cyan, sky, blue, indigo, violet, purple, fuchsia, pink, or hex: #FF5733)
#   icon: Codicon icon name (e.g., "agent", "rocket", "terminal")
#   pattern: Glob pattern to match files (e.g., "*.md", "**/*/SKILL.md")
#   prefixPattern: Pattern to extract prefix from plugin metadata
#   argumentHint: Hint for skill arguments
#   maxSuggestions: Maximum number of suggestions to display
#   {dirname}: Parent directory name
#   {dirname:N}: N levels up directory name (e.g., {dirname:2} = grandparent)
agentSkills:
  - name: "{basename}"
    description: "{frontmatter@description}"
    path: ~/.claude/commands
    label: "command"
    color: "purple"
    pattern: "*.md"
    argumentHint: "{frontmatter@argument-hint}"
    maxSuggestions: 20
  - name: "{frontmatter@name}"
    description: "{frontmatter@description}"
    path: ~/.claude/skills
    label: "skill"
    color: "pink"
    pattern: "**/*/SKILL.md"
    maxSuggestions: 20
  - name: "{prefix}:{basename}"
    description: "{frontmatter@description}"
    path: ~/.claude/plugins/cache
    label: "plugin command"
    color: "green"
    pattern: "**/commands/*.md"
    prefixPattern: "**/.claude-plugin/*.json@name"
    argumentHint: "{frontmatter@argument-hint}"
    maxSuggestions: 20
  - name: "{prefix}:{frontmatter@name}"
    description: "{frontmatter@description}"
    path: ~/.claude/plugins/cache
    label: "plugin skill"
    color: "cyan"
    pattern: "**/*/SKILL.md"
    prefixPattern: "**/.claude-plugin/*.json@name"
    argumentHint: "{frontmatter@argument-hint}"
    maxSuggestions: 20

# ============================================================================
# MENTION SETTINGS (@ mentions)
# ============================================================================
# Configure @ mention sources: customSearch, fileSearch, symbolSearch
# Template variables for customSearch: {basename}, {frontmatter@fieldName}

mentions:
  # Custom search entries — triggered by typing "@prefix:" (e.g., @agent:, @plan:)
  # Scans directories for files matching glob patterns and provides @ mention suggestions.
  # Supports: Markdown (.md), JSON (.json), JSONL (.jsonl), jq expressions, and plain text files.
  #
  # Configuration fields:
  #   name            : Display name template
  #   description     : Entry description template (supports "|" fallback: "{json@a}|{json@b}")
  #   path            : Directory path to scan (supports ~ for home)
  #   pattern         : Glob pattern to match files
  #   prefixPattern   : Pattern to extract prefix from plugin metadata
  #   searchPrefix    : Prefix to trigger this search (e.g., "agent" → @agent:)
  #   maxSuggestions  : Maximum number of suggestions to display
  #   orderBy         : Sort order (e.g., "name", "name desc", "{updatedAt} desc")
  #   displayTime     : Timestamp to display (e.g., "{updatedAt}", "{json@createdAt}", "none" to hide)
  #   inputFormat     : Insert format ('name' = display name, or template e.g. '{filepath}', '{content}')
  #   color           : Badge color (name or hex)
  #   icon            : Codicon icon name (e.g., "agent", "rocket", "terminal")
  #                     https://microsoft.github.io/vscode-codicons/dist/codicon.html
  #   label           : UI badge label
  #
  # Template variables:
  #   {basename}          — File name without extension
  #   {frontmatter@field} — YAML frontmatter field from markdown files
  #   {json@field}        — JSON field value (for .json/.jsonl files)
  #   {json:N@field}      — JSON field from N-th level array item
  #   {prefix}            — Prefix extracted via prefixPattern
  #   {heading}           — First non-empty line of the file (for markdown: first heading)
  #   {line}              — Each line of plain text file (generates one item per line)
  #   {dirname}           — Parent directory name
  #   {dirname:N}         — N levels up directory name (e.g., {dirname:2} = grandparent)
  #
  # Pattern examples:
  #   "*.md"                              — Markdown files in root directory only
  #   "**/*.md"                           — All subdirectories (recursive)
  #   "**/commands/*.md"                  — Any "commands" subdirectory
  #   "**/*/SKILL.md"                     — SKILL.md in any subdirectory
  #   "**/{cmd,agent}/*.md"              — Brace expansion (cmd or agent dirs)
  #   "*.json"                            — JSON files (use {json@field} for template variables)
  #   "**/config.json@.members"          — JSON + jq expression (expands array into items)
  #   "*.json@.items | map(select(.active))" — Complex jq expressions supported
  #   "*.jsonl"                           — JSONL files (one JSON per line)
  #   "*.txt"                             — Plain text files (one item per non-empty line, use {line})
  customSearch:
    - name: "{basename}(agent)"
      label: "agent"
      description: "{frontmatter@description}"
      path: ~/.claude/agents
      pattern: "*.md"
      searchPrefix: agent            # Search with @agent:
      displayTime: "{updatedAt}"

    - name: "{prefix}:{basename}(agent)"
      label: "plugin agent"
      color: "yellow"
      description: "{frontmatter@description}"
      path: ~/.claude/plugins/cache
      pattern: "**/agents/*.md"
      prefixPattern: "**/.claude-plugin/*.json@name"
      searchPrefix: agent            # Search with @agent:
      displayTime: "{updatedAt}"

    - name: "{json@name}"
      label: "{dirname}"
      icon: organization
      color: "{json@color}|#ffffff"
      description: "{json@prompt}|{json:1@description}"
      path: ~/.claude/teams
      pattern: "**/config.json@. | select(.createdAt / 1000 > (now - 86400)) | select((.members | length) >= 2) | .members"
      searchPrefix: team            # Search with @team:
      orderBy: "{json@joinedAt} desc"
      displayTime: "{json@joinedAt}"

    - name: "{basename}"
      icon: file-text
      color: "blue"
      description: "{heading}"
      path: ~/.claude/plans
      pattern: "*.md"
      searchPrefix: plan            # Search with @plan:
      orderBy: "{updatedAt} desc"
      displayTime: "{updatedAt}"
      inputFormat: {filepath}               # Insert format template

    - name: "{basename}"
      label: "{dirname}"
      icon: tasklist
      color: "violet"
      description: "{heading}"
      path: ~/.claude/tasks
      pattern: "**/*/*.md"
      searchPrefix: task            # Search with @task:
      orderBy: "{updatedAt} desc"
      displayTime: "{updatedAt}"
      inputFormat: {filepath}               # Insert format template

    # - name: "{basename}"
    #   description: "{frontmatter@title}"
    #   path: /path/to/knowledge-base
    #   pattern: "**/*/*.md"
    #   searchPrefix: kb            # Search with @kb:
    #   maxSuggestions: 100
    #   orderBy: "{updatedAt} desc"
    #   inputFormat: {filepath}               # Insert format template

  # File search settings (@path/to/file completion)
  # Note: fd command required (brew install fd)
  #
  # Pattern format (glob syntax):
  #   - "*.log"           : Match all .log files
  #   - "build/**"        : Match all files in build directory
  #   - "*.{js,ts}"       : Match .js and .ts files
  #   - ".git"            : Match .git directory
  #   - "node_modules"    : Match node_modules directory
  #
  fileSearch:
    respectGitignore: true           # Respect .gitignore files
    includeHidden: true              # Include hidden files
    maxFiles: 5000                   # Maximum files to return
    maxDepth: null                   # Directory depth (null = unlimited)
    maxSuggestions: 50               # Suggestions to show
    followSymlinks: false            # Follow symbolic links
    #fdPath: null                    # Custom path to fd
    # Include patterns: Force include files even if in .gitignore (default: [])
    # Example: includePatterns: ["*.log", "dist/**"]
    includePatterns: []
    # Exclude patterns: Additional patterns to exclude (default: [])
    # Example: excludePatterns: ["node_modules", "*.min.js", "coverage/**"]
    excludePatterns: []

  # Symbol search settings (@ts:Config, @go:Handler)
  # Note: ripgrep required (brew install ripgrep)
  symbolSearch:
    maxSymbols: 200000                # Maximum symbols to return
    timeout: 60000                    # Search timeout in ms
    #rgPath: null                    # Custom path to rg
    # Include patterns: Force include files even if excluded by default (default: [])
    # Example: includePatterns: ["*.test.ts", "vendor/**"]
    includePatterns: []
    # Exclude patterns: Additional patterns to exclude (default: [])
    # Example: excludePatterns: ["*.generated.go", "node_modules/**"]
    excludePatterns: []
